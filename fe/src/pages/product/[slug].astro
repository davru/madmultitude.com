---
import Products from '@/components/Products.astro';
import Layout from '@/layouts/Layout.astro';
import { sdk } from '@/lib/sdk';
import type { GetStaticPaths } from 'astro';

export const getStaticPaths = (async () => {
  const { products } = await sdk.store.product.list();
  return products.map((product) => ({
    params: {
      slug: product.handle,
    }
  }));
}) satisfies GetStaticPaths;

const { slug } = Astro.params;
---

<Layout>
  <Products active={slug} />
</Layout>